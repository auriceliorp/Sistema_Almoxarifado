{# ------------------------------ TELA DE DETALHES DO ITEM ------------------------------ #}
{% extends 'base_simplificada.html' %}

{% block title %}Detalhes do Item{% endblock %}

{% block content %}
<div class="container py-4">

    {# ------------------------------ CABEÇALHO ------------------------------ #}
    <div class="d-flex justify-content-between align-items-center mb-4">
        <a href="{{ url_for('item_bp.lista_itens') }}" class="btn btn-outline-primary">
            <i class="bi bi-arrow-left-circle"></i> Voltar
        </a>
        <h4 class="mb-0 text-center flex-grow-1">Detalhes do Item</h4>
        <div style="width: 42px;"></div> {# Espaço para alinhar ao centro #}
    </div>

    {# ------------------------------ CARTÃO COM DADOS DO ITEM ------------------------------ #}
    <div class="card">
        <div class="card-body">
            <h5 class="card-title mb-3"><i class="bi bi-box"></i> {{ item.nome }}</h5>

            <div class="row mb-2">
                <div class="col-md-4"><strong>Código SAP:</strong> {{ item.codigo_sap }}</div>
                <div class="col-md-4"><strong>Código SIADS:</strong> {{ item.codigo_siads }}</div>
                <div class="col-md-4"><strong>Unidade de Medida:</strong> {{ item.unidade_medida }}</div>
            </div>

            <div class="row mb-2">
                <div class="col-md-4"><strong>Quantidade em Estoque:</strong> {{ item.estoque_atual }}</div>
                <div class="col-md-4"><strong>Valor Unitário:</strong> R$ {{ '%.2f' % item.valor_unitario }}</div>
                <div class="col-md-4"><strong>Saldo Financeiro:</strong> R$ {{ '%.2f' % item.saldo_financeiro }}</div>
            </div>

            <div class="row mb-2">
                <div class="col-md-6"><strong>Grupo:</strong> {{ item.grupo.nome if item.grupo }}</div>
                <div class="col-md-6">
                    <strong>Natureza de Despesa:</strong> 
                    {{ item.grupo.natureza_despesa.nome if item.grupo and item.grupo.natureza_despesa }}
                </div>
            </div>

            <div class="row mb-2">
                <div class="col-md-6"><strong>Validade:</strong> {{ item.data_validade.strftime('%d/%m/%Y') if item.data_validade }}</div>
                <div class="col-md-6"><strong>Localização:</strong> {{ item.localizacao }}</div>
            </div>

            <div class="row">
                <div class="col-12">
                    <strong>Descrição:</strong>
                    <p class="mt-2">{{ item.descricao }}</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
