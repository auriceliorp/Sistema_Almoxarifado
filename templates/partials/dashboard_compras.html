{# ===================== DASHBOARD: COMPRAS ===================== #}

<div class="row mb-4">
  <!-- Indicadores -->
  <div class="col-md-3">
    <div class="card text-bg-primary text-center shadow">
      <div class="card-body">
        <i class="bi bi-folder-check display-6"></i>
        <h6 class="mt-2">Total de Processos</h6>
        <h3>35</h3>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card text-bg-success text-center shadow">
      <div class="card-body">
        <i class="bi bi-cash-stack display-6"></i>
        <h6 class="mt-2">Total Estimado</h6>
        <h3>R$ 4,7 mi</h3>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card text-bg-info text-center shadow">
      <div class="card-body">
        <i class="bi bi-file-earmark-text display-6"></i>
        <h6 class="mt-2">Com número SEI</h6>
        <h3>28</h3>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card text-bg-secondary text-center shadow">
      <div class="card-body">
        <i class="bi bi-check-circle display-6"></i>
        <h6 class="mt-2">Concluídos</h6>
        <h3>14</h3>
      </div>
    </div>
  </div>
</div>

<!-- Gráfico de Modalidades com Chart.js -->
<div class="card p-4 mb-4 shadow">
  <h5 class="mb-3">Distribuição por Modalidade de Licitação</h5>
  <canvas id="graficoModalidades"></canvas>
</div>

<!-- Tabela ilustrativa de processos -->
<div class="card shadow p-4">
  <h5 class="mb-3">Processos Recentes</h5>
  <table class="table table-sm table-hover align-middle">
    <thead class="table-light">
      <tr>
        <th>Nº Processo SEI</th>
        <th>Objeto</th>
        <th>Modalidade</th>
        <th>Status</th>
        <th>Responsável</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>21152.000001/2025-57</td>
        <td>Aquisição de materiais de limpeza</td>
        <td>Pregão Eletrônico</td>
        <td><span class="badge bg-warning text-dark">Em Andamento</span></td>
        <td>João Silva</td>
      </tr>
      <tr>
        <td>21152.000015/2025-57</td>
        <td>Contratação de transporte executivo</td>
        <td>Dispensa</td>
        <td><span class="badge bg-success">Concluído</span></td>
        <td>Maria Costa</td>
      </tr>
      <tr>
        <td>21152.000028/2025-57</td>
        <td>Manutenção de aparelhos de ar</td>
        <td>Inexigibilidade</td>
        <td><span class="badge bg-info">Cotação</span></td>
        <td>Pedro Nunes</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Script Chart.js para gráfico dinâmico -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ctx = document.getElementById('graficoModalidades').getContext('2d');
  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Pregão Eletrônico', 'Dispensa', 'Inexigibilidade', 'Concorrência', 'Leilão'],
      datasets: [{
        label: 'Quantidade de Processos',
        data: [12, 8, 6, 5, 4],
        backgroundColor: [
          '#0d6efd',
          '#20c997',
          '#ffc107',
          '#6610f2',
          '#6f42c1'
        ],
        borderRadius: 4,
        barThickness: 30
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { display: false },
        tooltip: { callbacks: {
          label: ctx => `${ctx.parsed.y} processos`
        }}
      },
      scales: {
        y: {
          beginAtZero: true,
          ticks: {
            stepSize: 2
          }
        }
      }
    }
  });
</script>
